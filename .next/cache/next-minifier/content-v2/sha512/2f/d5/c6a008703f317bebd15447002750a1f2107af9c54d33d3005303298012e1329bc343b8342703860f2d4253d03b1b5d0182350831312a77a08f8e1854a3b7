{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{\"213K\":function(e,t,r){\"use strict\";var n=r(\"1OyB\"),o=r(\"vuIU\"),a=r(\"JX7q\"),i=r(\"Ji7U\"),s=r(\"md7G\"),l=r(\"foSv\"),c=r(\"rePB\"),u=r(\"q1tI\"),p=r.n(u),d=r(\"/MKj\"),f=r(\"GGqY\"),h=r(\"YFqc\"),b=r.n(h),g=r(\"o0o1\"),y=r.n(g),m=r(\"HaE+\"),v=r(\"vDqi\"),O=r.n(v),D=r(\"nOHt\"),S=r.n(D),P=r(\"dP/F\"),j=r.n(P),w=r(\"Nxmy\"),k=r(\"xWvD\"),C=p.a.createElement;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var M=function(e){Object(i.a)(r,e);var t=E(r);function r(){var e;Object(n.a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),Object(c.a)(Object(a.a)(e),\"onToken\",function(){var t=Object(m.a)(y.a.mark((function t(r){var n,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={customerDetails:{firstName:e.props.userData.firstName.value,lastName:e.props.userData.lastName.value,email:e.props.userData.email.value,phone:e.props.userData.phone.value,address:e.props.userData.address.value,city:e.props.userData.city.value,state:e.props.userData.state.value,zip:e.props.userData.zip.value},items:R({},e.props.products),amount:e.props.total,status:\"pending\",token:r,createdAt:new Date},t.next=3,O.a.post(\"/api/checkout\",n);case 3:o=k.b.firestore(),o.collection(\"orders\").add(n).then((function(){e.props.resetCart(),f.c.success(\"Submitted the order, we will contact you soon.\",{position:\"bottom-left\",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout((function(){S.a.push(\"/\")}),3e3)}));case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return Object(o.a)(r,[{key:\"render\",value:function(){var e=this.props.amount;return C(p.a.Fragment,null,C(\"div\",{className:\"order-btn\"},C(j.a,{name:\"Livani\",description:\"React Next eCommerce Templates\",amount:e,currency:\"USD\",token:this.onToken,stripeKey:\"pk_test_ZaZZWZGlvdIn12yFleIqyjSI00G4e18Kf7\",billingAddress:!1,closed:this.handleClick},C(\"button\",{disabled:this.props.disabled,className:\"default-btn\"},\"Place Order\"))))}}]),r}(p.a.Component),A=Object(d.b)((function(e){return{products:e.addedItems,total:e.total}}),(function(e){return{resetCart:function(){e(Object(w.g)())}}}))(M),L=p.a.createElement;function x(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var T=function(e){Object(i.a)(r,e);var t=x(r);function r(){var e;Object(n.a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),Object(c.a)(Object(a.a)(e),\"handleEmptyForm\",(function(){f.c.error(\"Please fillup the form carefully\",{position:\"bottom-left\",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})})),e}return Object(o.a)(r,[{key:\"render\",value:function(){var e=this,t=(this.props.total+this.props.shipping).toFixed(2),r=this.props.disabled;return L(\"div\",{className:\"col-lg-6 col-md-12\"},L(\"div\",{className:\"order-details\"},L(\"h3\",{className:\"title\"},\"Your Order\"),L(\"div\",{className:\"order-table table-responsive\"},L(\"table\",{className:\"table table-bordered\"},L(\"thead\",null,L(\"tr\",null,L(\"th\",{scope:\"col\"},\"Product Name\"),L(\"th\",{scope:\"col\"},\"Total\"))),L(\"tbody\",null,this.props.products.map((function(e,t){return L(\"tr\",{key:t},L(\"td\",{className:\"product-name\"},L(\"a\",{href:\"#\"},e.title)),L(\"td\",{className:\"product-total\"},L(\"span\",{className:\"subtotal-amount\"},\"$\",e.newPrice*e.quantity)))})),L(\"tr\",null,L(\"td\",{className:\"order-subtotal\"},L(\"span\",null,\"Cart Subtotal\")),L(\"td\",{className:\"order-subtotal-price\"},L(\"span\",{className:\"order-subtotal-amount\"},\"$\",this.props.total))),L(\"tr\",null,L(\"td\",{className:\"order-shipping\"},L(\"span\",null,\"Shipping\")),L(\"td\",{className:\"shipping-price\"},L(\"span\",null,\"$30\"))),L(\"tr\",null,L(\"td\",{className:\"total-price\"},L(\"span\",null,\"Order Total\")),L(\"td\",{className:\"product-subtotal\"},L(\"span\",{className:\"subtotal-amount\"},\"$\",t)))))),L(\"div\",{className:\"payment-box\"},L(\"div\",{className:\"payment-method\"},L(\"p\",null,L(\"input\",{type:\"radio\",id:\"direct-bank-transfer\",name:\"radio-group\",defaultChecked:!0}),L(\"label\",null,\"Direct Order\"),\"Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order will not be shipped until the funds have cleared in our account.\")),r?L(b.a,{href:\"#\"},L(\"a\",{className:r?\"default-btn disabled-btn\":\"default-btn\",onClick:function(t){t.preventDefault(),e.handleEmptyForm()}},\"Place Order\")):L(A,{amount:100*t,userData:this.props.stateData,disabled:r}))))}}]),r}(u.Component);t.a=Object(d.b)((function(e){return{products:e.addedItems,total:e.total,shipping:e.shipping}}))(T)},\"HaE+\":function(e,t,r){\"use strict\";function n(e,t,r,n,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,l,\"next\",e)}function l(e){n(i,o,a,s,l,\"throw\",e)}s(void 0)}))}}r.d(t,\"a\",(function(){return o}))},\"dP/F\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(\"q1tI\")),i=s(r(\"17x9\"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=!1,u=!1,p=!1,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!==typeof t&&\"function\"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:r.props.stripeKey}),r.hasPendingClick&&r.showStripeDialog())},r.onScriptError=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.hideLoadingDialog(),r.props.onScriptError&&r.props.onScriptError.apply(r,t)},r.onClosed=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r._isMounted&&r.setState({open:!1}),r.props.closed&&r.props.closed.apply(r,t)},r.onOpened=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.setState({open:!0}),r.props.opened&&r.props.opened.apply(r,t)},r.getConfig=function(){return[\"token\",\"image\",\"name\",\"description\",\"amount\",\"locale\",\"currency\",\"panelLabel\",\"zipCode\",\"shippingAddress\",\"billingAddress\",\"email\",\"allowRememberMe\",\"bitcoin\",\"alipay\",\"alipayReusable\"].reduce((function(e,t){return n({},e,r.props.hasOwnProperty(t)&&l({},t,r.props[t]))}),{opened:r.onOpened,closed:r.onClosed})},r.onClick=function(){if(!r.props.disabled)if(p)try{throw new Error(\"Tried to call onClick, but StripeCheckout failed to load\")}catch(e){}else t.stripeHandler?r.showStripeDialog():(r.showLoadingDialog(),r.hasPendingClick=!0)},r.handleOnMouseDown=function(){r.setState({buttonActive:!0})},r.handleOnMouseUp=function(){r.setState({buttonActive:!1})},r.state={open:!1,buttonActive:!1},r}return function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:\"componentDidMount\",value:function(){var e=this;if(this._isMounted=!0,!u&&!c){c=!0;var t=document.createElement(\"script\");\"function\"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src=\"https://checkout.stripe.com/checkout.js\",t.async=1,this.loadPromise=function(){var r=!1,n=new Promise((function(r,n){t.onload=function(){u=!0,c=!1,r(),e.onScriptLoaded()},t.onerror=function(t){p=!0,c=!1,n(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){n.then((function(){return r?t({isCanceled:!0}):e()})),n.catch((function(e){return t(r?{isCanceled:!0}:e)}))})),cancel:function(){r=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:\"componentDidUpdate\",value:function(){c||this.updateStripeHandler()}},{key:\"componentWillUnmount\",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:\"updateStripeHandler\",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:\"showLoadingDialog\",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.props.showLoadingDialog.apply(this,t)}}},{key:\"hideLoadingDialog\",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.props.hideLoadingDialog.apply(this,t)}}},{key:\"showStripeDialog\",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:\"renderDefaultStripeButton\",value:function(){return a.default.createElement(\"button\",n({},l({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:n({},{overflow:\"hidden\",display:\"inline-block\",background:\"linear-gradient(#28a0e5,#015e94)\",border:0,padding:1,textDecoration:\"none\",borderRadius:5,boxShadow:\"0 1px 0 rgba(0,0,0,0.2)\",cursor:\"pointer\",visibility:\"visible\",userSelect:\"none\"},this.state.buttonActive&&{background:\"#005d93\"},this.props.style)}),a.default.createElement(\"span\",{style:n({},{backgroundImage:\"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)\",fontFamily:'\"Helvetica Neue\",Helvetica,Arial,sans-serif',fontSize:14,position:\"relative\",padding:\"0 12px\",display:\"block\",height:30,lineHeight:\"30px\",color:\"#fff\",fontWeight:\"bold\",boxShadow:\"inset 0 1px 0 rgba(255,255,255,0.25)\",textShadow:\"0 -1px 0 rgba(0,0,0,0.25)\",borderRadius:4},this.state.buttonActive&&{color:\"#eee\",boxShadow:\"inset 0 1px 0 rgba(0,0,0,0.1)\",backgroundImage:\"linear-gradient(#008cdd,#008cdd 85%,#239adf)\"},this.props.textStyle)},this.props.label))}},{key:\"renderDisabledButton\",value:function(){return a.default.createElement(\"button\",{disabled:!0,style:{background:\"rgba(0,0,0,0.2)\",overflow:\"hidden\",display:\"inline-block\",border:0,padding:1,textDecoration:\"none\",borderRadius:5,userSelect:\"none\"}},a.default.createElement(\"span\",{style:{boxShadow:\"inset 0 1px 0 rgba(255,255,255,0.25)\",fontFamily:'\"Helvetica Neue\",Helvetica,Arial,sans-serif',fontSize:14,position:\"relative\",padding:\"0 12px\",display:\"block\",height:30,lineHeight:\"30px\",borderRadius:4,color:\"#999\",background:\"#f8f9fa\",textShadow:\"0 1px 0 rgba(255,255,255,0.5)\"}},this.props.label))}},{key:\"render\",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?a.default.createElement(e,n({},l({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(a.default.Component);d.defaultProps={className:\"StripeCheckout\",label:\"Pay With Card\",locale:\"auto\",ComponentClass:\"span\",reconfigureOnUpdate:!1,triggerEvent:\"onClick\"},d.propTypes={desktopShowModal:i.default.bool,triggerEvent:i.default.oneOf([\"onClick\",\"onTouchTap\",\"onTouchStart\"]),label:i.default.string,style:i.default.object,textStyle:i.default.object,disabled:i.default.bool,ComponentClass:i.default.string,showLoadingDialog:i.default.func,hideLoadingDialog:i.default.func,onScriptError:i.default.func,onScriptTagCreated:i.default.func,reconfigureOnUpdate:i.default.bool,stripeKey:i.default.string.isRequired,token:i.default.func.isRequired,name:i.default.string,description:i.default.string,image:i.default.string,amount:i.default.number,locale:i.default.oneOf([\"auto\",\"zh\",\"da\",\"nl\",\"en\",\"fr\",\"de\",\"it\",\"ja\",\"no\",\"es\",\"sv\"]),currency:i.default.oneOf([\"AED\",\"AFN\",\"ALL\",\"AMD\",\"ANG\",\"AOA\",\"ARS\",\"AUD\",\"AWG\",\"AZN\",\"BAM\",\"BBD\",\"BDT\",\"BGN\",\"BIF\",\"BMD\",\"BND\",\"BOB\",\"BRL\",\"BSD\",\"BWP\",\"BZD\",\"CAD\",\"CDF\",\"CHF\",\"CLP\",\"CNY\",\"COP\",\"CRC\",\"CVE\",\"CZK\",\"DJF\",\"DKK\",\"DOP\",\"DZD\",\"EEK\",\"EGP\",\"ETB\",\"EUR\",\"FJD\",\"FKP\",\"GBP\",\"GEL\",\"GIP\",\"GMD\",\"GNF\",\"GTQ\",\"GYD\",\"HKD\",\"HNL\",\"HRK\",\"HTG\",\"HUF\",\"IDR\",\"ILS\",\"INR\",\"ISK\",\"JMD\",\"JPY\",\"KES\",\"KGS\",\"KHR\",\"KMF\",\"KRW\",\"KYD\",\"KZT\",\"LAK\",\"LBP\",\"LKR\",\"LRD\",\"LSL\",\"LTL\",\"LVL\",\"MAD\",\"MDL\",\"MGA\",\"MKD\",\"MNT\",\"MOP\",\"MRO\",\"MUR\",\"MVR\",\"MWK\",\"MXN\",\"MYR\",\"MZN\",\"NAD\",\"NGN\",\"NIO\",\"NOK\",\"NPR\",\"NZD\",\"PAB\",\"PEN\",\"PGK\",\"PHP\",\"PKR\",\"PLN\",\"PYG\",\"QAR\",\"RON\",\"RSD\",\"RUB\",\"RWF\",\"SAR\",\"SBD\",\"SCR\",\"SEK\",\"SGD\",\"SHP\",\"SLL\",\"SOS\",\"SRD\",\"STD\",\"SVC\",\"SZL\",\"THB\",\"TJS\",\"TOP\",\"TRY\",\"TTD\",\"TWD\",\"TZS\",\"UAH\",\"UGX\",\"USD\",\"UYU\",\"UZS\",\"VND\",\"VUV\",\"WST\",\"XAF\",\"XCD\",\"XOF\",\"XPF\",\"YER\",\"ZAR\",\"ZMW\"]),panelLabel:i.default.string,zipCode:i.default.bool,billingAddress:i.default.bool,shippingAddress:i.default.bool,email:i.default.string,allowRememberMe:i.default.bool,bitcoin:i.default.bool,alipay:i.default.oneOf([\"auto\",!0,!1]),alipayReusable:i.default.bool,opened:i.default.func,closed:i.default.func},d._isMounted=!1,t.default=d},o0o1:function(e,t,r){e.exports=r(\"ls82\")},zqzD:function(e,t,r){\"use strict\";var n=r(\"rePB\"),o=r(\"q1tI\");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=Object(o.useState)(e),s=a[0],l=a[1],c=Object(o.useState)(!0),u=c[0],p=c[1],d=Object(o.useState)(!1),f=d[0],h=d[1];Object(o.useEffect)((function(){p(!0)}),[]),Object(o.useEffect)((function(){f&&p(b())}),[s,f]);var b=Object(o.useCallback)((function(){return Object.keys(t).some((function(e){var r=t[e].required,n=s[e].value,o=s[e].error;return r&&!n||o}))}),[s,t]);return{state:s,disable:u,handleOnChange:function(e){h(!0);var r=e.target.name,o=e.target.value,a=\"\";t[r].required&&(o||(a=\"This is required field.\")),null!==t[r].validator&&\"object\"===typeof t[r].validator&&t[r].validator.regEx&&o&&!t[r].validator.regEx.test(o)&&(a=t[r].validator.error),l((function(e){return i(i({},e),{},Object(n.a)({},r,{value:o,error:a}))}))},handleOnSubmit:function(e){e.preventDefault(),b()||r()}}}}}]);","extractedComments":[]}